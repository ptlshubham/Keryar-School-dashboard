(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{O51e:function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarModule",(function(){return T}));var r=n("fXoL"),s=n("tyNb"),i=n("ofXK"),a=n("3Pt+"),l=n("PSD3"),c=n.n(l),d=n("yTNM"),o=n("WIKx"),v=n("lh0T"),h=n("ogxq"),u=n("lDv5"),f=n("pdMw"),p=function(e,t,n,r){var s,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,n,r,s){this.calenderService=e,this.router=t,this.apiService=n,this.registerService=r,this.manageService=s,this.calendarModel=new v.a,this.eventList=[],this.posts=[],this.reg=[],this.STD=[],this.stdData=[],this.teachData=[],this.selstd=[],this.selteach=[],this.selectStdsList=[],this.selectedTeahcList=[],this.dropdownSettings={},this.eventColor="#c00f26",this.calendarOptions={initialView:"dayGridMonth",selectable:!0,weekends:!0,plugins:[h.a],dateClick:this.handleDateClick.bind(this),events:[],eventColor:"#c00f26"}}return e.prototype.ngOnInit=function(){this.getEventDetails(),this.getStdList(),this.getTeacher()},e.prototype.handleDateClick=function(e){this.selected=e.dateStr},e.prototype.getTeacher=function(){var e=this;this.registerService.getTeacherList().subscribe((function(t){e.reg=t,e.reg.forEach((function(t){var n={itemName:t.firstname+" "+t.lastname,id:t.id};e.teachData.push(n)}))}))},e.prototype.getStdList=function(){var e=this;this.manageService.getStdList().subscribe((function(t){e.STD=t,e.STD.forEach((function(t){var n={itemName:t.stdname,id:t.id};e.stdData.push(n)}))}))},e.prototype.onItemSelect=function(e){var t={selStds:e.itemName,stdid:e.id};this.selectStdsList.push(t)},e.prototype.onItemSelectTeach=function(e){var t={selteach:e.itemName,teachid:e.id};this.selectedTeahcList.push(t)},e.prototype.onSelectAll=function(){var e=this;this.stdData.forEach((function(t){var n={selteach:t.itemName,teachid:t.id};e.selectStdsList.push(n)}))},e.prototype.onSelectAllTeach=function(){var e=this;this.teachData.forEach((function(t){var n={selteach:t.itemName,teachid:t.id};e.selectedTeahcList.push(n)}))},e.prototype.OnItemDeSelect=function(e){for(var t=0;t<this.selectStdsList.length;t++)this.selectStdsList[t].stdid==e.id&&this.selectStdsList.splice(t,1)},e.prototype.OnItemDeSelectTeach=function(e){for(var t=0;t<this.selectedTeahcList.length;t++)this.selectedTeahcList[t].stdid==e.id&&this.selectedTeahcList.splice(t,1)},e.prototype.onDeSelectAll=function(){this.selectStdsList=[]},e.prototype.onDeSelectAllTeach=function(){this.selectedTeahcList=[]},e.prototype.addEventsDetails=function(){var e=this;this.calendarModel.date=this.selected,this.calendarModel.active=!0,this.selectedTeahcList.length>0||this.selectStdsList.length>0?(this.calendarModel.teachlist=this.selectedTeahcList,this.calendarModel.stdlist=this.selectStdsList,this.calenderService.saveEventsList(this.calendarModel).subscribe((function(t){e.apiService.showNotification("top","right","Event Added Successfully.","success"),location.reload()}))):this.apiService.showNotification("top","right","Please Select Standard  Or Teachers for add event","danger")},e.prototype.getEventDetails=function(){var e=this;this.calenderService.geteventList().subscribe((function(t){e.calendarOptions.events=t,e.eventList=t;for(var n=0;n<e.eventList.length;n++)e.eventList[n].index=n+1}))},e.prototype.deleteEventList=function(e){var t=this;c.a.fire({title:"Are you sure?",text:"You want to delete!",icon:"warning",showCancelButton:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},confirmButtonText:"Yes",buttonsStyling:!1}).then((function(n){1==n.value&&(t.calenderService.removeEventData(e).subscribe((function(e){t.apiService.showNotification("top","right","Event removed Successfully.","success")})),c.a.fire({title:"Deleted!",text:"Your Event has been deleted.",icon:"success",customClass:{confirmButton:"btn btn-success"},buttonsStyling:!1}),t.getEventDetails())}))},e.ctorParameters=function(){return[{type:o.a},{type:s.d},{type:d.a},{type:u.a},{type:f.a}]},e=p([Object(r.o)({selector:"calendar-cmp",template:'<div class="main-content">\r\n  <div class="row">\r\n    <div class="col-md-12">\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="card card-calendar">\r\n            <div class="card-content">\r\n              <full-calendar [options]="calendarOptions"></full-calendar>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-6">\r\n          <div class="card">\r\n            <div class="card-header">\r\n              <h4 class="card-title"> Add Events</h4>\r\n            </div>\r\n            <div class="card-body">\r\n              <form class="form-horizontal" name="eventRegForm" #eventRegForm="ngForm">\r\n\r\n                <div class="row">\r\n                  \x3c!-- <div class="col-md-6"> --\x3e\r\n                    <label class="col-md-2 col-form-label" style="color:#312c2c;font-size: 0.8rem;font-weight: bold;">Select Standard List</label>\r\n                    <div class="col-md-4">\r\n                      <div style="border: 1px #dddddd solid !important">\r\n                        <angular2-multiselect [ngModelOptions]="{standalone: true}" [data]="stdData" [(ngModel)]="selstd"\r\n                          [settings]="dropdownSettings" (onSelect)="onItemSelect($event)" (onDeSelect)="OnItemDeSelect($event)"\r\n                          (onSelectAll)="onSelectAll()" name="std" (onDeSelectAll)="onDeSelectAll()">\r\n                        </angular2-multiselect>\r\n                      </div>\r\n                    \x3c!-- </div> --\x3e\r\n                    </div>\r\n\r\n                    <label class="col-md-2 col-form-label" style="color:#312c2c;font-size: 0.8rem;font-weight: bold;">Select Teacher List</label>\r\n                    <div class="col-md-4">\r\n                      <div style="border: 1px #dddddd solid !important">\r\n                        <angular2-multiselect [ngModelOptions]="{standalone: true}" [data]="teachData" [(ngModel)]="selteach"\r\n                          [settings]="dropdownSettings" (onSelect)="onItemSelectTeach($event)" (onDeSelect)="OnItemDeSelectTeach($event)"\r\n                          (onSelectAll)="onSelectAllTeach()" name="teach" (onDeSelectAll)="onDeSelectAllTeach()">\r\n                        </angular2-multiselect>\r\n                      </div>\r\n                    \x3c!-- </div> --\x3e\r\n                    </div>\r\n               \r\n        \r\n                  \r\n                </div>\r\n                <div class="row">\r\n                  <div class="col-md-4">\r\n                    <div class="form-group">\r\n                      <label class="col-form-label" for="date">Selected Date</label>\r\n                      <input type="text" class="form-control" disabled id="date" name="date"\r\n                        placeholder="Please Select Date First" value="{{selected}}" />\r\n                    </div>\r\n                  </div>\r\n                  <div class="col-md-8">\r\n                    <label class="col-form-label" for="title">Add Event Title</label>\r\n                    <div class="form-group" [ngClass]="{ \'form-group-focus\': focus === true }">\r\n                      <input type="text" class="form-control" id="title" name="title" placeholder="Enter Events Title"\r\n                        [(ngModel)]="calendarModel.title" required value="" pattern="^[a-zA-Z0-9 .`,\'\'!]+$"\r\n                        (focus)="focus = true" #title="ngModel" />\r\n                    </div>\r\n                    <div *ngIf="title.errors && (title.dirty || title.touched)" class="alert alert-danger">\r\n                      <div *ngIf="title.errors.required">\r\n                        Event Title is required\r\n                      </div>\r\n                      <div [hidden]="!title.errors(\'pattern\')">\r\n                        Enter Only Characters and Numbers.\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \x3c!-- <div class="row"> --\x3e\r\n                \x3c!-- <div class="col-md-4">\r\n                    <div class="form-group">\r\n                      <label class="col-form-label" for="date">Select Event Color</label>\r\n                      <input [value]="eventColor" [style.background]="eventColor" [cpCancelButton]="true"\r\n                        [(colorPicker)]="eventColor" />\r\n                    </div>\r\n                  </div> --\x3e\r\n\r\n\r\n                \x3c!-- </div> --\x3e\r\n              </form>\r\n            </div>\r\n            <div class="card-footer">\r\n              <div class="row">\r\n                <div class="ml-md-auto">\r\n                  <button type="submit" class="btn btn-info btn-round"\r\n                    [disabled]="!eventRegForm.form.valid || !selected" (click)="addEventsDetails()">\r\n                    <i class="fa fa-calendar" aria-hidden="true"></i> Add New Event\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="row">\r\n    <div class="col-md-12">\r\n      <div class="card  card-tasks">\r\n        <div class="card-header ">\r\n          <h4 class="card-title">Scheduled Events List</h4>\r\n        </div>\r\n        <div class="card-body ">\r\n          <div class="table-full-width table-responsive">\r\n            <table class="table table-striped">\r\n              <thead class="text-primary">\r\n                <th class="text-center">\r\n                  #\r\n                </th>\r\n                <th class="text-center">\r\n                  Event Date\r\n                </th>\r\n                <th class="text-center">\r\n                  Event Title\r\n                </th>\r\n                <th class="text-right">\r\n                  Action\r\n                </th>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor="let item of eventList | paginate: { itemsPerPage: 5, currentPage: p }">\r\n                  <td class="text-center">\r\n                    {{item.index}}\r\n                  </td>\r\n                  <td class="text-center">\r\n                    {{item.date}}\r\n                  </td>\r\n                  <td class="text-center">\r\n                    {{item.title}}\r\n                  </td>\r\n                  <td class="text-right">\r\n                    <button type="button" rel="tooltip" class="btn btn-danger btn-icon btn-sm"\r\n                      (click)="deleteEventList(item.id)">\r\n                      <i class="fa fa-trash"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class="card-footer ">\r\n          <div class="row">\r\n            <div class="ml-md-auto">\r\n              <pagination-controls (pageChange)="p = $event" autoHide="true" maxSize="5" responsive="true">\r\n              </pagination-controls>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</div>'}),m("design:paramtypes",[o.a,s.d,d.a,u.a,f.a])],e)}(),b=[{path:"",children:[{path:"",component:g}]}],S=n("IvIE"),y=n("PN1e"),D=n("R9Cn"),L=n("oOf3"),w=n("e/mZ"),x=function(e,t,n,r){var s,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(s=e[l])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};S.a.registerPlugins([y.a,h.a]);var T=function(){function e(){}return e=x([Object(r.M)({imports:[i.c,s.e.forChild(b),a.d,S.a,w.a,D.a,L.a],declarations:[g]})],e)}()}}]);