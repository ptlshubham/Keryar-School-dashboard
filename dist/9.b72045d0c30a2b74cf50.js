(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{vSxe:function(e,n,t){"use strict";t.r(n),t.d(n,"BannersModule",(function(){return w}));var r=t("fXoL"),i=t("ofXK"),s=t("yTNM"),a=t("PSD3"),o=t.n(a),d=t("bXv0"),c=function(e,n,t,r,i){this.id=e,this.name=n,this.bannersimage=t,this.status=r,this.index=i},l=function(e,n,t,r){var i,s=arguments.length,a=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(n,t,a):i(n,t))||a);return s>3&&a&&Object.defineProperty(n,t,a),a},u=function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},b=function(){function e(e,n){this.bannersServie=e,this.apiService=n,this.isAddShow=!0,this.positiion=[],this.isImageSaved=!0,this.WebbannersModel=new c,this.webImage=[],this.positiion=[{name:"Top"}],this.getBanners()}return e.prototype.ngOnInit=function(){},e.prototype.addNewImages=function(){this.isAddShow=!1},e.prototype.cancelAddImage=function(){this.isAddShow=!0},e.prototype.selectPosition=function(e){var n=this;this.positiion.forEach((function(t){t.name==e&&(n.selectedPosition=t.name)}))},e.prototype.select=function(e){var n,t,r=this;if(e.target.files&&e.target.files[0]){var i=e.target.files[0],s=20971520;if("Top"==this.selectedPosition?(n=200,t=1e3):"Middle"==this.selectedPosition||"End"==this.selectedPosition?(n=400,t=1200):"Deal of the Day"==this.selectedPosition?(n=800,t=600):"Deal of the Day Center"==this.selectedPosition&&(n=570,t=390),e.target.files[0].size>s)return this.imageError="Maximum size allowed is 20971.52Mb",!1;var a=new FileReader;a.onload=function(e){var s=new Image;s.src=e.target.result,s.onload=function(s){var a=s.currentTarget.height,o=s.currentTarget.width;if(console.log(a,o),a>n&&o>t)return alert("image must be "+n+"*"+t),r.isImageSaved=!1,r.imageError="Maximum dimentions allowed "+n+"*"+t+"px",!1;var d=e.target.result;r.cardImageBase64=d;var c=new FormData;c.append("file",i),r.bannersServie.uploadImage(c).subscribe((function(e){r.image=e,r.isImageSaved=!0}))}},a.readAsDataURL(e.target.files[0])}},e.prototype.saveBannersImage=function(){var e=this;this.WebbannersModel.bannersimage=this.image,this.WebbannersModel.name=this.selectedPosition,this.WebbannersModel.status=!0,this.bannersServie.saveWebBannersImage(this.WebbannersModel).subscribe((function(n){e.apiService.showNotification("top","right","Banners Successfully Added.","success"),e.getBanners(),e.isAddShow=!0}))},e.prototype.getBanners=function(){var e=this;this.bannersServie.getWebBanners().subscribe((function(n){e.webImage=n;for(var t=0;t<e.webImage.length;t++)e.webImage[t].index=t+1}))},e.prototype.removeBannersImage=function(e){var n=this;o.a.fire({title:"Are you sure?",text:"You want to delete!",icon:"warning",showCancelButton:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},confirmButtonText:"Yes",buttonsStyling:!1}).then((function(t){1==t.value&&(n.bannersServie.removeWebBanners(e).subscribe((function(e){n.apiService.showNotification("top","right","Banners Successfully Removed.","success")})),o.a.fire({title:"Deleted!",text:"Your banner has been deleted.",icon:"success",customClass:{confirmButton:"btn btn-success"},buttonsStyling:!1}),n.getBanners())}))},e.prototype.activeBanners=function(e){this.webImage[e].status=!0,this.bannersServie.activeDeavctiveWebBanners(this.webImage[e]).subscribe((function(e){}))},e.prototype.deactiveBanners=function(e){this.webImage[e].status=!1,this.bannersServie.activeDeavctiveWebBanners(this.webImage[e]).subscribe((function(e){}))},e.ctorParameters=function(){return[{type:d.a},{type:s.a}]},e=l([Object(r.o)({selector:"app-banners",template:'<div class="main-content">\r\n  <div class="card" *ngIf="!isAddShow">\r\n    <div class="card-header">\r\n      <div class="row">\r\n        <div class="col-md-10">\r\n          <h4 class="card-title">\r\n            Add New Images\r\n          </h4>\r\n        </div>\r\n        <div class="ml-md-auto">\r\n          \x3c!-- <button type="cancel" class="btn btn-danger btn-round" routerLink="/dashboard">\r\n                        <i class="fa fa-arrow-left"></i> Back</button> --\x3e\r\n          <button type="submit" class="btn btn-danger btn-round" (click)="cancelAddImage()">\r\n            <i class="fa fa-times" aria-hidden="true"></i> Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body">\r\n      <form class="form-horizontal" name="bannersRegForm" #bannersRegForm="ngForm" (ngSubmit)="onSubmit()">\r\n        <div class="row">\r\n          <label class="col-md-2 col-form-label">Select Position</label>\r\n          <div class="col-md-2">\r\n            <div class="dropdown form-group">\r\n              <button class="dropdown-toggle btn btn-primary btn-round btn-block" type="button"\r\n                name="dropdownMenuButton" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"\r\n                aria-expanded="false">\r\n                {{ selectedPosition }}\r\n              </button>\r\n              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">\r\n                <div class="dropdown-header">Select Position</div>\r\n                <div *ngFor="let pos of positiion">\r\n                  <a class="dropdown-item" (click)="selectPosition(pos.name)">{{\r\n                    pos.name\r\n                    }}</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <label class="col-md-2 col-form-label">Select Image</label>\r\n          <div class="col-md-3">\r\n            <div>\r\n              <p style="color: red !important; font-weight: 600 !important">\r\n                Images Size Mustbe 200*1000.\r\n              </p>\r\n            </div>\r\n            <div class="fileinput fileinput-new text-center" data-provides="fileinput">\r\n              <div class="fileinput-new thumbnail">\r\n                <img src="./assets/img/image_placeholder.jpg" alt="..." />\r\n              </div>\r\n              <div class="fileinput-preview fileinput-exists thumbnail"></div>\r\n              <div>\r\n                <span class="btn btn-rose btn-round btn-file">\r\n                  <span class="fileinput-new"><i class="fa fa-picture-o" aria-hidden="true"></i> Select Image</span>\r\n                  <span class="fileinput-exists">Change</span>\r\n                  <input type="file" id="BannersImage" name="BannersImage" (change)="select($event)" />\r\n                </span>\r\n                <a href="javascript:void(0)" class="btn btn-danger btn-round fileinput-exists"\r\n                  data-dismiss="fileinput"><i class="fa fa-times"></i> Remove</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class="card-footer">\r\n      <div class="row">\r\n        <div class="ml-md-auto">\r\n          <button type="submit" class="btn btn-info btn-round"\r\n            [disabled]="!bannersRegForm.form.valid || !selectedPosition" id="product-submit"\r\n            (click)="saveBannersImage()">\r\n            <i class="fa fa-paper-plane" aria-hidden="true"></i> Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class="card" *ngIf="isAddShow">\r\n    <div class="card-header">\r\n      <div class="row">\r\n        <div class="col-md-10">\r\n          <h4 class="card-title">Banners List</h4>\r\n        </div>\r\n        <div class="ml-md-auto">\r\n          <button type="submit" class="btn btn-info btn-round" (click)="addNewImages()">\r\n            <i class="fa fa-plus" aria-hidden="true"></i> Add New Banners\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-body">\r\n      <div class="row">\r\n        <div class="table-responsive">\r\n          <table class="table table-shopping">\r\n            <thead class="text-primary">\r\n              <tr>\r\n                <th></th>\r\n                <th>#</th>\r\n                \x3c!-- <th>Images List</th> --\x3e\r\n                <th>Position</th>\r\n                <th>Image</th>\r\n                <th>Status</th>\r\n                <th class="text-right">Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor="let item of webImage | paginate: { itemsPerPage: 5, currentPage: p }">\r\n                <td></td>\r\n                <td>{{ item.index }}</td>\r\n                \x3c!-- <td>Slider</td> --\x3e\r\n                <td>{{ item.name }}</td>\r\n\r\n                <td>\r\n                  <div class="img-container">\r\n                    <img src="http://31.220.59.174:3000{{ item.bannersimage }}" />\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <button class="btn btn-success" *ngIf="item.status" (click)="deactiveBanners(i)">\r\n                    Active\r\n                  </button>\r\n                  <button class="btn btn-danger" *ngIf="!item.status" (click)="activeBanners(i)">\r\n                    Deactive\r\n                  </button>\r\n                </td>\r\n                <td class="text-right">\r\n                  <button type="button" rel="tooltip" class="btn btn-danger btn-icon btn-sm"\r\n                   (click)="removeBannersImage(item.id)">\r\n                    <i class="fa fa-times"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="card-footer">\r\n      <div class="row">\r\n        <div class="ml-md-auto">\r\n          <pagination-controls (pageChange)="p = $event" autoHide="true" maxSize="5" responsive="true"></pagination-controls>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>',styles:[""]}),u("design:paramtypes",[d.a,s.a])],e)}(),m=t("tyNb"),p=[{path:"",children:[{path:"banners",component:b}]}],v=t("1kSV"),f=t("3Pt+"),h=t("oOf3"),g=function(e,n,t,r){var i,s=arguments.length,a=s<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(n,t,a):i(n,t))||a);return s>3&&a&&Object.defineProperty(n,t,a),a},w=function(){function e(){}return e=g([Object(r.M)({declarations:[b],imports:[i.c,m.e.forChild(p),f.d,v.a,h.a]})],e)}()}}]);